import{_ as e,o as a,c as s,a as o}from"./app.6f935c16.js";const m=JSON.parse('{"title":"隔离变量","description":"","frontmatter":{},"headers":[{"level":2,"title":"原生隔离变量","slug":"原生隔离变量","link":"#原生隔离变量","children":[]},{"level":2,"title":"自定义隔离变量","slug":"自定义隔离变量","link":"#自定义隔离变量","children":[]}],"relativePath":"guide/var.md","lastUpdated":1701706062000}'),c={name:"guide/var.md"},n=o(`<h1 id="隔离变量" tabindex="-1">隔离变量 <a class="header-anchor" href="#隔离变量" aria-hidden="true">#</a></h1><p>沙箱的原理，是将一些变量隔离，以<code>document</code>为例：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> document </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fakeGlobalVar</span></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createElement</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>这个时候读到的<code>document</code>就是沙箱中的<code>document</code>了</p><h2 id="原生隔离变量" tabindex="-1">原生隔离变量 <a class="header-anchor" href="#原生隔离变量" aria-hidden="true">#</a></h2><p><code>nativeVars</code>是指像<code>document</code>一样，原生就存在的变量</p><h2 id="自定义隔离变量" tabindex="-1">自定义隔离变量 <a class="header-anchor" href="#自定义隔离变量" aria-hidden="true">#</a></h2><p><code>customVars</code>是指自定义的全局变量，比如<code>window.a</code></p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>nativeVars</code>和 <code>customVars</code>详见<code>vite</code>/<code>webpack</code>的插件配置</p><p>其中<code>nativeVars</code>默认为 <code>[&#39;document&#39;, &#39;history&#39;, &#39;location&#39;, &#39;window&#39;, &#39;self&#39;, &#39;globalThis&#39;, &#39;setTimeout&#39;, &#39;setInterval&#39;, &#39;addEventListener&#39;</code></p><p><code>customVars</code>默认为空</p><p>如果你需要一些其他变量被隔离，修改插件配置即可</p></div>`,9),t=[n];function l(d,p,r,i,h,u){return a(),s("div",null,t)}const D=e(c,[["render",l]]);export{m as __pageData,D as default};
